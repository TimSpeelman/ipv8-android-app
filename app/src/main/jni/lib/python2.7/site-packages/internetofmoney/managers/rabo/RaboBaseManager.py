import os

from internetofmoney.managers.BaseManager import BaseManager


class RaboBaseManager(BaseManager):

    def __init__(self, database, cache_dir='cache'):
        super(RaboBaseManager, self).__init__(database, cache_dir=cache_dir)

        if os.path.exists(os.path.join(self.cache_dir, 'rabo_cookies')):
            self.cookie_jar.load(os.path.join(self.cache_dir, 'rabo_cookies'))

        self.logged_in = False
        self.logon_token = None
        self.offer_uid = None

    def get_rabo_headers(self):
        return {
            'User-Agent': 'Rabo Mobiel Bankieren, 4.9.0, Android, 4.4.4, motorola, XT1032',
            'Content-Type': 'application/xml',
            'Accept': 'application/xml'
        }

    def get_bank_name(self):
        return 'Rabobank'

    def get_bank_id(self):
        return 'RABO'
