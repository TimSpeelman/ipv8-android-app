from internetofmoney.database import InternetOfMoneyDB
from internetofmoney.managers.rabo.RaboManager import RaboManager
from internetofmoney.tests.test_base import BaseTestCase


class TestRaboBaseManager(BaseTestCase):
    """
    This class contains tests for the Rabobank manager
    """

    def setUp(self):
        super(TestRaboBaseManager, self).setUp()
        database = InternetOfMoneyDB(self.temp_dir)
        self.rabo_manager = RaboManager(database)

    def test_get_bank_name_id(self):
        """
        Test the bank id/name of the Rabobank manager
        """
        self.assertEqual(self.rabo_manager.get_bank_name(), 'Rabobank')
        self.assertEqual(self.rabo_manager.get_bank_id(), 'RABO')

    def test_get_headers(self):
        """
        Test the headers sent to the Rabobank servers
        """
        headers = self.rabo_manager.get_rabo_headers()
        self.assertIn('User-Agent', headers)
        self.assertIn('Content-Type', headers)
